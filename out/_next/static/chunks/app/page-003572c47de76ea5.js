(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5919:function(e,t,s){Promise.resolve().then(s.bind(s,6117))},6117:function(e,t,s){"use strict";s.r(t);var l=s(7437),c=s(2265);t.default=()=>{let[e,t]=(0,c.useState)([]),[s,r]=(0,c.useState)(new Map),[i,n]=(0,c.useState)(!1),a=(e,t,s)=>{let l=new SpeechSynthesisUtterance(" ID ".concat(e.id," đ\xe3 thay đổi trạng th\xe1i ").concat(t," tại m\xe1y số ").concat(s,"."));l.lang="vi-VN",l.onend=()=>{n(!1)},window.speechSynthesis.speak(l),n(!0)};return(0,c.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/machines"),l=await e.json(),c=new Map(s);l.forEach(e=>{let t=s.get(e.id);t&&(Object.keys(e.error).forEach(s=>{let l=parseInt(s);if(e.error[l]!==t.error[l]){let t=e.error[l]?"Hỏng m\xe1y":"Kh\xf4i phục";i||a(e,t,l)}}),Object.keys(e.support).forEach(s=>{let l=parseInt(s);if(e.support[l]!==t.support[l]){let t=e.support[l]?"Cần hỗ trợ":"Kh\xf4i phục hỗ trợ";i||a(e,t,l)}}),Object.keys(e.outStock).forEach(s=>{let l=parseInt(s);if(e.outStock[l]!==t.outStock[l]){let t=e.outStock[l]?"Hết h\xe0ng":"Kh\xf4i phục h\xe0ng";i||a(e,t,l)}})),c.set(e.id,e)}),r(c),t(l)}catch(e){console.error("Lỗi khi lấy dữ liệu:",e)}},l=setInterval(()=>{i||e()},1e3);return()=>clearInterval(l)},[i,s]),(0,l.jsx)("div",{className:"p-2",children:(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:e.map(e=>(0,l.jsxs)("div",{className:"rounded-2xl shadow-lg p-0 flex flex-col items-start justify-between transition-all transform hover:scale-[102%] hover:shadow-2xl duration-200 ".concat(e.isConnect?"bg-[#0101dd] border-blue-900 text-white":"bg-gray-400 border-gray-600 text-gray-200"),children:[(0,l.jsxs)("div",{className:"w-full bg-[#003263] text-white rounded-t-2xl flex items-center",children:[(0,l.jsx)("div",{className:"bg-[#027d02] text-[35px] font-bold px-4 py-0 mr-4 rounded-tl-2xl",children:String(e.id).padStart(2,"0")}),(0,l.jsx)("div",{className:"flex-1 text-center text-[27px] font-bold bg-[#003263] rounded-2xl",children:e.name})]}),(0,l.jsx)("div",{className:"w-full px-0 py-4 bg-[#0101dd] text-white",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 text-center gap-y-9",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,l.jsx)("div",{className:"font-bold text-[14px]",children:"MỤC TI\xcaU NG\xc0Y"}),(0,l.jsx)("div",{className:"text-[14px]",children:"(DAILY TARGET)"})]}),(0,l.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,l.jsx)("div",{className:"text-[40px] font-bold",children:e.dailyTarget})}),(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,l.jsx)("div",{className:"font-bold text-[14px]",children:"MỤC TI\xcaU GIỜ"}),(0,l.jsx)("div",{className:"text-[14px]",children:"(HOURLY TARGET)"})]}),(0,l.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,l.jsx)("div",{className:"text-[40px] font-bold",children:e.hourTarget})}),(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,l.jsx)("div",{className:"font-bold text-[14px]",children:"THỰC HIỆN"}),(0,l.jsx)("div",{className:"text-[14px]",children:"(ACTUAL)"})]}),(0,l.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,l.jsx)("div",{className:"text-[40px] font-bold",children:e.actual})})]})}),(0,l.jsxs)("div",{className:"w-full bg-[#033c8b] pt-2 pl-2 pr-2 rounded-b-2xl ",children:[(0,l.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,l.jsx)("div",{className:"text-[18px] font-bold text-red-500",children:"Hỏng M\xe1y"}),(0,l.jsx)("div",{className:"flex space-x-1",children:Object.keys(e.error).map(t=>(0,l.jsx)("div",{className:"w-8 h-8 flex items-center justify-center rounded-lg font-semibold ".concat(e.error[parseInt(t)]?"bg-red-500":"bg-gray-500"),children:t},t))})]}),(0,l.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,l.jsx)("div",{className:"text-[18px] font-bold text-yellow-500",children:"Cần Hỗ Trợ"}),(0,l.jsx)("div",{className:"flex space-x-1",children:Object.keys(e.support).map(t=>(0,l.jsx)("div",{className:"w-8 h-8 flex items-center justify-center rounded-lg font-semibold ".concat(e.support[parseInt(t)]?"bg-yellow-500":"bg-gray-500"),children:t},t))})]}),(0,l.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,l.jsx)("div",{className:"text-[18px] font-bold text-green-500",children:"Hết H\xe0ng"}),(0,l.jsx)("div",{className:"flex space-x-1",children:Object.keys(e.outStock).map(t=>(0,l.jsx)("div",{className:"w-8 h-8 flex items-center justify-center rounded-lg font-semibold ".concat(e.outStock[parseInt(t)]?"bg-green-500":"bg-gray-500"),children:t},t))})]})]})]},e.id))})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=5919)}),_N_E=e.O()}]);